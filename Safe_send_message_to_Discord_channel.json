{
"name": "Safe_send_message_to_Discord_channel.json",
"nodes": [
  {
    "type": "n8n-nodes-base.set",
    "typeVersion": 3.4,
    "position": [
      640,
      256
    ],
    "id": "99f93394-3f10-4136-b97a-8e3b4242a046",
    "name": "Edit Fields",
    "disabled": false,
    "parameters": {
      "mode": "manual",
      "duplicateItem": false,
      "assignments": {
        "assignments": [
          {
            "id": "8201935a-1b47-4cd0-8f5e-7e53f9e1d186",
            "name": "transcript",
            "value": "={{ $json.transcript_length <= 2000 ? $json.transcript\n    : $json.transcript_slice(0, 1997) + \"...\" }}",
            "type": "string"
          }
        ]
      },
      "includeOtherFields": false,
      "options": {}
    }
  },
  {
    "parameters": {
      "assignments": {
        "assignments": [
          {
            "id": "91adcaf3-bf53-4a87-a9a5-e5aff6c657fa",
            "name": "text_length",
            "value": "={{ $json.text.length }}",
            "type": "string"
          },
          {
            "id": "812072b4-8e97-4310-9477-877456087d07",
            "name": "text_slice",
            "value": "={{ $json.text.slice }}",
            "type": "string"
          },
          {
            "id": "47a5d33d-33a7-4949-9796-fa6d2c0f2b31",
            "name": "text",
            "value": "={{ $json.text }}",
            "type": "string"
          }
        ]
      },
      "options": {}
    },
    "type": "n8n-nodes-base.set",
    "typeVersion": 3.4,
    "position": [
      848,
      256
    ],
    "id": "deb0ee32-3923-4630-8482-1b0de062a94c",
    "name": "Return"
  },
  {
    "id": "03967c6d-0a95-4384-9467-2a86f96c5a8e",
    "typeVersion": 1.1,
    "name": "Start",
    "type": "n8n-nodes-base.executeWorkflowTrigger",
    "position": [
      432,
      256
    ],
    "parameters": {
      "workflowInputs": {
        "values": [
          {
            "name": "transcript_length",
            "type": "any"
          },
          {
            "name": "transcript_slice",
            "type": "any"
          },
          {
            "name": "transcript",
            "type": "any"
          }
        ]
      }
    }
  }
],
"connections": {
  "Start": {
    "main": [
      [
        {
          "node": "Edit Fields",
          "type": "main",
          "index": 0
        }
      ]
    ]
  },
  "Edit Fields": {
    "main": [
      [
        {
          "node": "Return",
          "type": "main",
          "index": 0
        }
      ]
    ]
  }
},
}